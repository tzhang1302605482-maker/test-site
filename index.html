<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>finding myself - Zhang Yangfei</title>
    <style>
        body, html {
            margin: 0; padding: 0;
            width: 100%; height: 100%;
            overflow: hidden;
            background-color: #000;
            font-family: 'Inter', -apple-system, BlinkMacSystemFont, sans-serif;
            color: #fff;
            cursor: none; /* 隐藏原生鼠标 */
        }

        /* 基础背景层：极暗 (0.05) */
        .base-background {
            position: absolute;
            top: 0; left: 0;
            width: 100%; height: 100%;
            background-size: cover;
            background-position: center;
            opacity: 0.05; 
            filter: grayscale(100%);
            transition: background-image 0.8s ease-in-out;
        }

        /* 探照灯高亮层 */
        .spotlight-layer {
            position: absolute;
            top: 0; left: 0;
            width: 100%; height: 100%;
            background-size: cover;
            background-position: center;
            z-index: 2;
            pointer-events: none;
            
            --radius: 160px;
            --mask: radial-gradient(
                circle var(--radius) at var(--x, -500px) var(--y, -500px), 
                black 0%, 
                black 60%, 
                transparent 100%
            );
            -webkit-mask-image: var(--mask);
            mask-image: var(--mask);
            transition: opacity 0.8s ease-in-out;
            opacity: 0;
        }

        .spotlight-layer.active {
            opacity: 1;
        }

        /* UI 文本 */
        .ui-overlay {
            position: fixed;
            inset: 0;
            z-index: 10;
            padding: 40px;
            display: flex;
            flex-direction: column;
            justify-content: space-between;
            pointer-events: none;
        }

        .header { 
            display: flex; 
            justify-content: space-between; 
            letter-spacing: 4px; 
            font-size: 11px; 
            text-transform: uppercase; 
            opacity: 0.6;
        }

        .instruction {
            width: 100%;
            text-align: center;
            font-size: 9px;
            letter-spacing: 3px;
            opacity: 0.2;
            margin-bottom: 10px;
        }
    </style>
</head>
<body>

    <div id="base-bg" class="base-background"></div>
    <div id="gallery"></div>

    <div class="ui-overlay">
        <div class="header">
            <div style="font-style: italic;">finding myself</div>
            <div>12431104 Zhang Yangfei</div>
        </div>
        <div class="instruction">CLICK TO SHIFT VIEW</div>
    </div>

    <script>
        // 1. 自动生成 1-12 张图片的路径
        // 注意：如果你的图片后缀是 .png，请把下面的 .jpg 改成 .png
        const myImages = Array.from({length: 12}, (_, i) => `images/${i + 1}.jpg`);

        let currentIndex = 0;
        const gallery = document.getElementById('gallery');
        const baseBg = document.getElementById('base-bg');

        // 2. 初始化并预加载
        function init() {
            myImages.forEach((src, idx) => {
                const div = document.createElement('div');
                div.className = `spotlight-layer ${idx === 0 ? 'active' : ''}`;
                div.style.backgroundImage = `url('${src}')`;
                gallery.appendChild(div);
                
                // 预加载图片到浏览器缓存
                const img = new Image();
                img.src = src;
            });
            updateView();
        }

        function updateView() {
            const layers = document.querySelectorAll('.spotlight-layer');
            layers.forEach((layer, idx) => {
                layer.classList.toggle('active', idx === currentIndex);
            });
            baseBg.style.backgroundImage = `url('${myImages[currentIndex]}')`;
        }

        // 3. 点击切换
        document.addEventListener('mousedown', () => {
            currentIndex = (currentIndex + 1) % myImages.length;
            updateView();
            
            // 点击视觉反馈
            const layers = document.querySelectorAll('.spotlight-layer');
            layers.forEach(l => l.style.setProperty('--radius', '145px'));
            setTimeout(() => {
                layers.forEach(l => l.style.setProperty('--radius', '160px'));
            }, 100);
        });

        // 4. 鼠标追踪
        document.addEventListener('mousemove', (e) => {
            const x = e.clientX + 'px';
            const y = e.clientY + 'px';
            document.querySelectorAll('.spotlight-layer').forEach(layer => {
                layer.style.setProperty('--x', x);
                layer.style.setProperty('--y', y);
            });
        });

        init();
    </script>
</body>
</html>
